<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JSON Pretty</title>
<style>
body{
	position: fixed;
	top: 0px; left: 0px; right: 0px; bottom: 20px;
	background-color: #222244;
	margin: 0;
	padding: 0;
}
#editor{
	width: 100%;
	height: 100%;
	resize: none;
	margin: 0;
	border: 0 none;
}
#status{
	position: fixed;
	left: 0;
	right: 0;
	bottom: 0;
	color: white;
	font-size: 12px;
	margin: 0;
	padding: 4px;
}
</style>
<script src="//ajaxorg.github.io/ace-builds/src-min-noconflict/ace.js"></script>
<script>
window.addEventListener("DOMContentLoaded", function(){
	var status = document.querySelector("#status");
	var defaultStatus = status.textContent;
	var editor = ace.edit("editor");
	editor.setTheme("ace/theme/twilight");
	editor.getSession().setMode("ace/mode/json");
	editor.on("paste", function(e){
		try{
			e.text = JSON.stringify(JSON.parse(e.text), null, "\t");
			status.textContent = defaultStatus;
		}
		catch(e){
			status.textContent = e.toString();
		}
	});
});
</script>
</head>
<body><div id="editor"></div><p id="status">Ready</p></body>
</html>
